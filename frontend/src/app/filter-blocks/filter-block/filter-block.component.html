<div class="block-row" *ngIf="fileFilter">
  <div>
    <mat-form-field class="example-full-width">
      <mat-label>{{ "filter-block.key" | translate }}</mat-label>
      <input *ngIf="dropdownOptions == null || dropdownOptions.length === 0" matInput [(ngModel)]="fileFilter.key" />
      <mat-select *ngIf="dropdownOptions != null && dropdownOptions.length > 0" (valueChange)="fileFilter.key = $event">
        <mat-option *ngFor="let key of dropdownOptions" [value]="key.value">
          {{key.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="spacer"></div>
  <button
    class="negate-button"
    mat-stroked-button
    color="primary"
    (click)="toggleNegate()"
  >
    <ng-container *ngIf="fileFilter.negate; else affirm">
      {{ "filter-block.negate" | translate }}
    </ng-container>
    <ng-template #affirm>
      {{ "filter-block.affirm" | translate }}
    </ng-template>
  </button>
  <div>
    <mat-form-field>
      <mat-label>{{ "filter-block.operation" | translate }}</mat-label>
      <mat-select
        [value]="fileFilter.operation"
        (valueChange)="onOperationSelectionChange($event)"
      >
        <mat-option *ngFor="let op of filterOperations" [value]="op">
          {{ "filter-block.operation-" + op | lowercase | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="spacer"></div>
  <div>
    <mat-form-field class="example-full-width">
      <mat-label>{{ "filter-block.value" | translate }}</mat-label>
      <input matInput placeholder="XYZ" [(ngModel)]="fileFilter.value" />
    </mat-form-field>
  </div>
</div>
